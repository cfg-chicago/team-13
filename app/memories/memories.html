<!DOCTYPE>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="icon" href="http://getbootstrap.com/favicon.ico">

    <title>Embarc Journey Portal</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!--     <link href="http://getbootstrap.com/examples/signin/signin.css" rel="stylesheet"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <link href="../justified-nav.css" rel="stylesheet">

</head>

<body>

    <div class="container">
        <div class="jumbotron" style="padding-bottom:50px;">
            <h2 align="middle">Embarc Journey Portal</h2>
        </div>
        <h2 align="middle" style="margin-bottom:30px;">Your Memories!</h2>

        <script src="https://www.gstatic.com/firebasejs/4.4.0/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyBBtvu_hYi6UTORj7wrWbi9lMkv8w98a7M",
            authDomain: "codeforgoodembarc-85ea7.firebaseapp.com",
            databaseURL: "https://codeforgoodembarc-85ea7.firebaseio.com",
            projectId: "codeforgoodembarc-85ea7",
            storageBucket: "codeforgoodembarc-85ea7.appspot.com",
            messagingSenderId: "487898887337"
          };
          firebase.initializeApp(config);
        </script>
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol>

          <!-- Wrapper for slides -->
          <div class="carousel-inner">
            <div class="item active">
              <img id="photo0" src="url" alt="Los Angeles">
            </div>

            <div class="item">
              <img id="photo1" src="url" alt="Chicago">
            </div>

            <div class="item">
              <img id="photo2" src="url" alt="New York">
            </div>
          </div>

          <!-- Left and right controls -->
          <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
        <script>
            var storage = firebase.storage();
            // var journey1 = storage.ref().child('journey1');

            var app = angular.module('myApp', []);

            var list = [0, 1, 2, 3, 4, 5];
            var i = 0;
            var loopArray = function(arr) {
                addImage(storage, arr[i], function(){
                    ++i;

                    if(i < arr.length) {
                        loopArray(arr);
                    }
                });
            }

            loopArray(list);

            function addImage(storage, index, callback) {
                storage.refFromURL('gs://codeforgoodembarc-85ea7.appspot.com/journey1/photo' + index + '.jpg').getDownloadURL().then(function(url) {
                            document.getElementById('photo' + index).src = url;
                    });
                callback();
            }

        </script>
    </div>

</body></html>